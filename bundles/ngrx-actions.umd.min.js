!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@ngrx/store"),require("@angular/core"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngrx-actions",["exports","@ngrx/store","@angular/core","rxjs/operators"],r):r(e["ngrx-actions"]={},e.store,e.ng.core,e.rxjs.operators)}(this,function(e,s,n,l){"use strict";var d=function(){return(d=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function p(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function t(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),c=[];try{for(;(void 0===r||0<r--)&&!(n=i.next()).done;)c.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(o)throw o.error}}return c}function y(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(t(arguments[r]));return e}var v=function(){function r(){}return r.prototype.connect=function(e){r.store=e},r.store=undefined,r.decorators=[{type:n.Injectable}],r}();var o="__ngrx__actions__";function g(e){if(!e.hasOwnProperty(o)){Object.defineProperty(e,o,{value:{actions:{},effects:{}}})}return e[o]}function h(e){var r=!e.prototype,t=r?e.constructor:e;if(!t.hasOwnProperty(o))throw new Error("A reducer can be created from a @Store decorated class only.");var c=r?e:new e,n=t[o],a=n.initialState,u=n.actions,f=n.effects;return function(e,r){void 0===e&&(e=a);var t=u[r.type];if(t){var n=c[t.fn](e,r);if(n===undefined)return Array.isArray(e)?y(e):d({},e);e=n}var o=f[r.type];if(o){var i=c[o.fn](e,r);i&&(i.subscribe?i.pipe(l.materialize()).subscribe(function(e){e.value&&v.store&&v.store.dispatch(e.value)}):v.store&&(Array.isArray(i)?i.forEach(function(e){return v.store&&v.store.dispatch(e)}):v.store.dispatch(i)))}return e}}var r=new n.InjectionToken("STORE_TOKEN"),i=new n.InjectionToken("FEATURE_STORE_TOKEN"),c=function(){function t(e,r,t,n,o,i){if(i.connect(n),e)for(var c in e){var a=e[c],u=o.get(a,new a);t.addReducer(c,h(u))}if(r){"string"!=typeof r.key&&(r.reducers=r.key,r.key=undefined);var f={};for(var c in r.reducers){a=r.reducers[c],u=o.get(a,new a);f[c]=h(u)}r.key&&t.addFeature({reducers:f,reducerFactory:s.combineReducers,key:r.key})}}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:r,useValue:e}]}},t.forFeature=function(e,r){return{ngModule:t,providers:[{provide:i,useValue:{key:e,reducers:r}}]}},t.decorators=[{type:n.NgModule,args:[{imports:[s.StoreModule],providers:[v]}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[r]}]},{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[i]}]},{type:s.ReducerManager},{type:s.Store},{type:n.Injector},{type:v}]},t}();e.NgrxActionsModule=c,e.Action=function a(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];return function(e,r,t){var n,o,i=g(e.constructor);try{for(var c=p(l),a=c.next();!a.done;a=c.next()){var u=a.value,f=(new u).type;if(i.actions[f])throw new Error("@Action for '"+f+"' is defined multiple times in functions '"+i.actions[f].fn+"' and '"+r+"'");i.actions[f]={action:u,fn:r,type:f}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=c["return"])&&o.call(c)}finally{if(n)throw n.error}}}},e.ofAction=function u(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t={};return e.forEach(function(e){return t[(new e).type]=!0}),l.filter(function(e){return t[e.type]})},e.Store=function f(r){return void 0===r&&(r={}),function(e){g(e).initialState=r}},e.Select=function w(i){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];return function(e,r){var t,n="__"+r+"__selector";if(i||(i=r),"string"==typeof i){var o=a.length?y([i],a):i.split(".");t=function c(e){for(var r=e,t="store."+r[0],n=0,o=r.length,i=t;++n<o;)i=i+" && "+(t=t+"."+r[n]);return new Function("store","return "+i+";")}(o)}else t=i;if(e[n])throw new Error("You cannot use @Select decorator and a "+n+" property.");delete e[r]&&(Object.defineProperty(e,n,{writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,r,{get:function(){return this[n]||(this[n]=function(){var e=v.store;if(!e)throw new Error("NgrxSelect not connected to store!");return e.select(t)}.apply(this))},enumerable:!0,configurable:!0}))}},e.NgrxSelect=v,e.createReducer=h,e.Effect=function b(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];return function(e,r,t){var n,o,i=g(e.constructor);try{for(var c=p(l),a=c.next();!a.done;a=c.next()){var u=a.value,f=(new u).type;if(i.effects[f])throw new Error("@Effect for '"+f+"' is defined multiple times in functions '"+i.effects[f].fn+"' and '"+r+"'");i.effects[f]={action:u,fn:r,type:f}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=c["return"])&&o.call(c)}finally{if(n)throw n.error}}}},e.ɵb=i,e.ɵa=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-actions.umd.min.js.map